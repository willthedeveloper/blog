<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Remaking the bouncing DVD logo in Javascript</title>
    <link rel="stylesheet" href="https://cdn.rawgit.com/kimeiga/bahunya/css/bahunya-0.1.3.css" />    
    <style>body{margin:0}
</style>
</head>

<body>
    <header>
        <h1>Remaking the bouncing DVD logo in Javascript</h1>
    </header>
    <main>
        <article>
            <p>Before I prattling on, here is <a href="dvd-screensaver.surge.sh">the working website</a>, if you just want the goods.</p>
<p>OK, so:</p>
<p>Remember the DVD screensaver? How you'd watch that DVD logo bouncing around the screen, as the substitute teacher desperately fiddled with the giant Panasonic box to get a movie going in order to sedate this roudy bunch of high school juniors? And you just sit there, watching, hoping, praying that it would, at some point, <a href="https://www.youtube.com/watch?v=QOtuX0jL85Y">perfectly hit a corner</a>?</p>
<p>I made it for the browser. And like so many of my projects, I went ahead and built it before checking to see if anybody had done it before.</p>
<p><a href="https://bouncingdvdlogo.com/">Yes</a>. <a href="https://dvdscreensaver.online/">People</a>. <a href="https://santumerino.itch.io/dvd-screensaver-simulator">Have</a>.</p>
<p>But don't leave yet!</p>
<p>I'm proud to say that my screensaver boasts a few features that the competition doesn't:</p>
<h3>Multiple logos</h3>
<p>That's right. Logos will appear wherever you click on screen.</p>
<!-- TODO img -->
<h3>Collision detection</h3>
<p>And if we're going to have multiple logos, we may as well have them collide off of each other, right?
That should be easy, right?
Wrong.</p>
<!-- TODO img of stuff falling -->
<p>I knew that I had heard the term &quot;collision detection&quot; before, but I didn't realize that it's the subject of at least one <a href="https://realtimecollisiondetection.net/">590-page programming book</a>.</p>
<p>Initially, my hope was that I could naively write this from the ground up, thinking about how an object in real life 'knows' when it's collided with something. Then I remembered that there is something called &quot;physics&quot; that I <em>would</em> have learned about had Mr. Astruc shown up to class that day instead of that poor sub who couldn't get the DVD player working.</p>
<h4>Finding intersecting triangles</h4>
<p>So, instead of recreating a branch of science, I went on YouTube. I followed <a href="https://www.youtube.com/watch?v=8JJ-4JgR7Dg&amp;list=LL&amp;index=5">javidx9's tutorial</a> to detect collisions between moving rectangles.</p>
<p>The algorithm: the animation generates a new frame at least 30 times per second. Every frame, we draw a &quot;ray&quot; from the center of each rectangle along its vector. If that ray intersects another rectangle, then we've found a collision.</p>
<h4>Checking a bunch of rectangles</h4>
<p>So how do we check every rectangle on screen, every frame?</p>
<ul>
<li>ðŸ¥µ <mark>Inefficient but easy</mark>: check every rectangle against every other rectangle, every frame.</li>
<li>ðŸ¥¶ <mark>Efficient but hard</mark>: make an &quot;octree&quot;/&quot;oct tree&quot;/&quot;ostrich&quot;... I don't know what these are.</li>
<li>ðŸ‘Œ <mark>Just right</mark>: sort 'n' sweep! Sort the rectangles along their highest variance axis. That way, we don't have to check every rectangle against every other rectangle. I followed <a href="https://www.youtube.com/watch?v=bCgF8fzwFvc">@thebennybox's tutorial</a> to figure this out.</li>
</ul>
<h3>Controlling time</h3>
<p>You can speed things up or slow things down. When you adjust the knob, we update each logo's velocity.</p>
<p>I'm not saying that you can control time. I'm trying to tell you that when you're ready, you won't have to.</p>
<h3>Resizing</h3>
<p>You can resize the page and things will still work! Whenever the <code>&quot;resize&quot;</code> event fires, we re-initialize the canvas with the window's new dimensions.</p>
<h3>Nerdy stuff</h3>
<h4>Javascript classes</h4>
<p>This was a great opportunity to use Javascript <code>Class</code>, which I had never used in practice:</p>
<ul>
<li><code>Point</code>: just has <code>x</code> and <code>y</code> props.
<ul>
<li><code>Rect</code>: extends <code>Point</code> with width and height, and a bunch of methods.
<ul>
<li><code>Logo</code>: extends <code>Rect</code> with image properties.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4>JSdocs</h4>
<p>I wanted to try to keep this thing as organized as possible, and ended up documenting everything using JSdocs syntax. It's overkill for a fun project like this, but still, it was a good chance to learn how to write documentation while working.</p>
<p>OK that's all.</p>
<p>Here's the <a href="https://github.com/willthefirst/dvd-screensaver">Github repo</a>.<br>
Built during my (remote) time at <a href="www.recurse.com">Recurse Center</a>.</p>

        </article>
    </main>
</body>

</html>